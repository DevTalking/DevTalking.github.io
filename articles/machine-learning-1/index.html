<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121973094-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121973094-1');
</script>


<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
 <script type="text/x-mathjax-config">
 MathJax.Hub.Config({tex2jax: {inlineMath:[['$','$']]}});
 </script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #272822; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #272822, 0 0 5px #272822; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #272822;    /*上边框颜色*/
        border-left-color: #272822;    /*左边框颜色*/
    }
</style>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />








  <link rel="stylesheet" type="text/css" href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  
    <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  


<link rel="stylesheet" type="text/css" href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" />

<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.2"/>




  <meta name="keywords" content="机器学习," />



  <link rel="alternate" href="/atom.xml" title="程序员说" type="application/atom+xml" />



  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />


<meta name="description" content="&amp;lt;!-- DevTalking Banner1 --&amp;gt;


(adsbygoogle = window.adsbygoogle || []).push({});



机器学习的定义
非正式定义：在不直接针对问题进行编程的情况下，赋予计算机学习能力的一个研究领域。
正式定义：对于一个计算机程序来讲，给他一个任务T和一个性能测量方法P，如果在经验E的影响下P对T的测量结果得到了改进，那么就说该程序从">
<meta property="og:type" content="article">
<meta property="og:title" content="机器学习笔记一之机器学习定义、导数、最小二乘">
<meta property="og:url" content="http://www.devtalking.com/articles/machine-learning-1/index.html">
<meta property="og:site_name" content="程序员说">
<meta property="og:description" content="&amp;lt;!-- DevTalking Banner1 --&amp;gt;


(adsbygoogle = window.adsbygoogle || []).push({});



机器学习的定义
非正式定义：在不直接针对问题进行编程的情况下，赋予计算机学习能力的一个研究领域。
正式定义：对于一个计算机程序来讲，给他一个任务T和一个性能测量方法P，如果在经验E的影响下P对T的测量结果得到了改进，那么就说该程序从">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/34576cd0bbd2b3d3905c4c9f5a4db346.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/da9d63e45fa11a781128bc64bb78ae92.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/f2e2dafd1795cd2c9560c996e10b4dc2.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/7dfb137e5166d380c5194ef704b5af2e.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/2c37a842a7fd93c8a3afdc84999c0b05.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/193d3633a71b48d7b9fc262296fab1b7.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/0cdd7f555855ce50d285e0a1b1377b7f.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/4431a672dc9198ae16fc7a9b223f9f22.jpg">
<meta property="og:image" content="http://paxigrdp0.bkt.clouddn.com/cc38ffff2a4ff78ca4772dcddbe4262b.jpg">
<meta property="og:updated_time" content="2018-07-08T05:14:29.340Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="机器学习笔记一之机器学习定义、导数、最小二乘">
<meta name="twitter:description" content="&amp;lt;!-- DevTalking Banner1 --&amp;gt;


(adsbygoogle = window.adsbygoogle || []).push({});



机器学习的定义
非正式定义：在不直接针对问题进行编程的情况下，赋予计算机学习能力的一个研究领域。
正式定义：对于一个计算机程序来讲，给他一个任务T和一个性能测量方法P，如果在经验E的影响下P对T的测量结果得到了改进，那么就说该程序从">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>



  <title> 机器学习笔记一之机器学习定义、导数、最小二乘 | 程序员说 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?980738dc41a50d91861a17ad4b768a1f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
<script type="text/javascript">
    //微信二维码点击背景关闭
    $('body').delegate('.-mob-share-weixin-qrcode-bg','click', function(){
         $(".-mob-share-weixin-qrcode-close").trigger("click");
    }); 
</script>


  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">程序员说</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags"></i> <br />
            
            標籤
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                机器学习笔记一之机器学习定义、导数、最小二乘
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2018-01-06T00:00:00+08:00" content="2018-01-06">
              2018-01-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
              &nbsp; | &nbsp;
              <a href="/articles/machine-learning-1/#comments" itemprop="discussionUrl">
                <span class="post-comments-count disqus-comment-count" data-disqus-identifier="/articles/machine-learning-1/" itemprop="commentsCount"></span>
              </a>
            </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- DevTalking Banner1 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-4115205380866695" data-ad-slot="5844761160"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<h2 id="u673A_u5668_u5B66_u4E60_u7684_u5B9A_u4E49"><a href="#u673A_u5668_u5B66_u4E60_u7684_u5B9A_u4E49" class="headerlink" title="机器学习的定义"></a>机器学习的定义</h2><ul>
<li>非正式定义：在不直接针对问题进行编程的情况下，赋予计算机学习能力的一个研究领域。</li>
<li>正式定义：对于一个计算机程序来讲，给他一个任务T和一个性能测量方法P，如果在经验E的影响下P对T的测量结果得到了改进，那么就说该程序从E中得到了学习。</li>
</ul>
<p>举个机器下棋的例子，经验E对应着程序不断和自己下棋的经历，任务T是下棋，性能测量方法P可以是它在和人类棋手对弈的胜率。如果说机器与人类棋手对应的胜率不断提高，那说明机器从自己和自己下棋的过程中得到了学习。</p>
<h2 id="u673A_u5668_u5B66_u4E60_u56DB_u5927_u5185_u5BB9_u7B80_u8FF0"><a href="#u673A_u5668_u5B66_u4E60_u56DB_u5927_u5185_u5BB9_u7B80_u8FF0" class="headerlink" title="机器学习四大内容简述"></a>机器学习四大内容简述</h2><ul>
<li>监督学习（Supervised Learning）</li>
<li>学习理论（Learning Theory）</li>
<li>无监督学习（Unsupervised Learning）</li>
<li>强化学习（Reinforcement Learning）</li>
</ul>
<h3 id="u76D1_u7763_u5B66_u4E60_uFF08Supervised_Learning_uFF09"><a href="#u76D1_u7763_u5B66_u4E60_uFF08Supervised_Learning_uFF09" class="headerlink" title="监督学习（Supervised Learning）"></a>监督学习（Supervised Learning）</h3><p><img src="http://paxigrdp0.bkt.clouddn.com/34576cd0bbd2b3d3905c4c9f5a4db346.jpg" alt=""><br>如上图所示，描述了假定城市区域的房屋面积与售价的关系。横坐标是房屋面积，纵坐标是售价。如果我想在横轴随意取一个面积，就希望知道它的售价，那么就需要一个方法通过面积确定售价。图中的方法是通过一条标准线来找到对应的售价。那么这条线要如何得来呢？</p>
<p>在这个示例中，我们已经给出了若干房屋面积和售价的数据集，即已经告知了机器若干问题和答案。机器通过这些数据集中面积和售价的关系，自我学习从而得出这条线，这种学习类型就属于监督学习类型。</p>
<p>因为这种场景中的数据集取值都是连续的，所以这类问题都可以归为线性回归的问题。<br><img src="http://paxigrdp0.bkt.clouddn.com/da9d63e45fa11a781128bc64bb78ae92.jpg" alt=""></p>
<p>如上图所示，描述了肿瘤大小与恶性良性的关系。横坐标是肿瘤的大小，纵坐标表示恶性或良性，与连续的房屋售价不同的是，这里的纵坐标只有两个值0或1。</p>
<p>这个示例中，我们同样给出了一组肿瘤大小与恶性良性的数据集，我们希望机器通过这组答案数据集自我学习然后有能力通过肿瘤大小判断出恶性或良性。当然这里只是示例，实际中会有很多其他的横轴指标值用于判断学习。</p>
<p>该示例中这种离散的数值问题可以归为分类的问题。</p>
<h3 id="u5B66_u4E60_u7406_u8BBA_uFF08Learning_Theory_uFF09"><a href="#u5B66_u4E60_u7406_u8BBA_uFF08Learning_Theory_uFF09" class="headerlink" title="学习理论（Learning Theory）"></a>学习理论（Learning Theory）</h3><p>任何具体的方式方法背后都有一个或多个理论进行支撑，机器学习也不例外。</p>
<p>这一大块的内容贯穿整个机器学习，包括人工智能和机器学习正式诞生之前的定理证明，理解为什么学习型算法是有效的。每种学习型算法需要多少训练数据，比如上面的房屋售价示例到底需要多少房屋的样本。以及机器学习渗透在我们生活中的真实应用场景等等。</p>
<h3 id="u65E0_u76D1_u7763_u5B66_u4E60_uFF08Unsupervised_Learning_uFF09"><a href="#u65E0_u76D1_u7763_u5B66_u4E60_uFF08Unsupervised_Learning_uFF09" class="headerlink" title="无监督学习（Unsupervised Learning）"></a>无监督学习（Unsupervised Learning）</h3><p>如果我现在有一组不知道任何信息的数据集，然后需要机器进行分析然后给出这组数据集中的几种共性或者相似的结构，将其聚类，这个方式就称之为无监督学习。即我们不会提供机器问题和答案，只提供数据，需要机器自我学习和分析找出共性进行聚类。</p>
<p>无监督学习的应用场景很多，当下流行的各种P图软件都或多或少的用到了这类算法，比如图的修复功能，抠图功能，像素化等一些滤镜都是对像素的聚类。还有声音驳杂功能，从嘈杂的声音中提取出有用的声音等。</p>
<h3 id="u5F3A_u5316_u5B66_u4E60_uFF08Reinforcement_Learning_uFF09"><a href="#u5F3A_u5316_u5B66_u4E60_uFF08Reinforcement_Learning_uFF09" class="headerlink" title="强化学习（Reinforcement Learning）"></a>强化学习（Reinforcement Learning）</h3><p>强化学习是机器学习的精髓，更贴近机器的自我学习，用在不能通过一次决策下定论的情形中，比如分析病人肿瘤病情的例子，通过监督学习，我们给定了确切的答案，不是良性就是恶性，即我们做的决策要么对，要么错。但在强化学习中，在一段时间内会机器做出一系列决策。比如我们编写一个程序让一架无人机做出一系列特技表演动作，这种场景就不是一次决策能实现的了的。</p>
<p>那么强化学习究竟是什么？在它背后有一个称为回报函数的概念。比如我们训练宠物狗坐下、握手等行为，每当小狗做出的正确的行为，我们都会给小狗奖励，比如摸摸头进行鼓励或者给一块小骨头。渐渐的小狗就知道做出怎样的行为有奖励，怎样的行为没有奖励，即学会了坐下和握手的行为。这就很类似强化学习的理论，我们需要找到一种方式，来定义我们想要什么，如何定义一个好的行为和一个坏的行为，然后就需要一个合适的学习型算法来获得更多的回报和更少的惩罚。</p>
<a id="more"></a>
<h2 id="u76D1_u7763_u5B66_u4E60"><a href="#u76D1_u7763_u5B66_u4E60" class="headerlink" title="监督学习"></a>监督学习</h2><h3 id="u7EBF_u6027_u56DE_u5F52"><a href="#u7EBF_u6027_u56DE_u5F52" class="headerlink" title="线性回归"></a>线性回归</h3><p>线性回归是监督学习中相对简单也但很实用的一个数学方法，它是用于确定两种或两种以上变量间相互依赖的定量关系的一种统计分析方法。我们先从一元线性回归看起。</p>
<p>一元线性回归顾名思义只包括一个自变量和一个因变量，且二者的关系可用一条直线来近似表示，比如上文中的卖房示例，假设我们的分析数据如下表所示：<br><img src="http://paxigrdp0.bkt.clouddn.com/f2e2dafd1795cd2c9560c996e10b4dc2.jpg" alt=""></p>
<p>这组数据是链家网站望京二手房的数据，如果把这些数据画在二维坐标内，就可以得到一个散点图，就像上文图一所示，如果我们想得知房屋面积和售价的关系，就可以利用一元线性回归来画出一条拟合直线。</p>
<h4 id="u5982_u4F55_u753B_u51FA_u62DF_u5408_u76F4_u7EBF"><a href="#u5982_u4F55_u753B_u51FA_u62DF_u5408_u76F4_u7EBF" class="headerlink" title="如何画出拟合直线"></a>如何画出拟合直线</h4><p>首先我们知道一元线性函数的表达式为$ f(y) = ax + b $，该函数可以在二维坐标系内画出一条直线，并且$y$的值随$x$的值变化而变化，既$x$是自变量，$y$是因变量。假设上面给出的数据房屋面积为$x$，售价为$y$，那么每一个实际的$x$值都会有一个实际的$y$值。那么对于我们要画出的拟合直线来讲，每一个实际的$x$值都有会有一个通过拟合直线预测而来的$y$值，我们期望的结果是每个$y$的实际值与预测值的平方和最小，那么我们画出的这条拟合直线称为回归线。用公式表达为：</p>
<p>$$ (y _ {1实际} - y_{1预测})^2 + (y_{2实际}- y_{2预测})^2 + … + (y_{n实际} - y_{n预测})^2 $$</p>
<p>因为$y$的预测值可以由函数$ ax + b $求得，所以代入上面的公式可得：</p>
<p>$$ F(a,b) = \sum_{i=1}^n(y_i-(ax_i + b))^2 $$</p>
<p>所以监督学习中的线性回归方法就是通过大量的数据样本由机器求得$a$和$b$的值，使得函数$F$的值最小，那么回归线也就求出来了，既称为算法收敛。</p>
<h4 id="u5982_u4F55_u6C42_u51FD_u6570_u7684_u6700_u5C0F_u503C"><a href="#u5982_u4F55_u6C42_u51FD_u6570_u7684_u6700_u5C0F_u503C" class="headerlink" title="如何求函数的最小值"></a>如何求函数的最小值</h4><p>说到函数的最小值，那就要引入导数这个数学工具了，下面我从几何角度来解释什么是导数，它和函数的最小值有什么关系。</p>
<h5 id="u5BFC_u6570_u4E0E_u659C_u7387"><a href="#u5BFC_u6570_u4E0E_u659C_u7387" class="headerlink" title="导数与斜率"></a>导数与斜率</h5><p><img src="http://paxigrdp0.bkt.clouddn.com/7dfb137e5166d380c5194ef704b5af2e.jpg" alt=""></p>
<p>如上图所示，在图中的二维坐标系中，有一条曲线，一条直线，该直线为曲线的切线，相交于点$P$，该点的$x$轴坐标值为$x_0$。<br><img src="http://paxigrdp0.bkt.clouddn.com/2c37a842a7fd93c8a3afdc84999c0b05.jpg" alt=""></p>
<p>如上图所示，我们再画一条直线$B$，使其经过曲线上的点$P$和点$Q$，直线$B$称为曲线的割线。当点$Q$逐渐接近点$P$时，直线$B$就会逐渐接近直线$A$，所以说切线其实是割线的极值。<br><img src="http://paxigrdp0.bkt.clouddn.com/193d3633a71b48d7b9fc262296fab1b7.jpg" alt=""></p>
<p>如上图所示，$\Delta x$表示$x$的变化量，并且我们假设直线$B$的函数为$f(x)$，那么$\Delta f$表示函数$f$的变化量。在几何学中，一条直线关于横坐标轴倾斜程度的量，称为斜率，并且定义对于两个已知点$(x_1,y_1)$和$(x_2,y_2)$，如果$x_1$不等于$x_2$，则经过这两点直线的斜率为$k=(y_1-y_2)/(x_1-x_2)$。</p>
<p>所以直线$B$的斜率为$k=\Delta f / \Delta x$。因为点$P$和$Q$的坐标分别为$(x_0,f(x_0))$和$(x_0+\Delta x,f(x_0+\Delta x))$，所以我们代入可得：</p>
<p>$$ k=\frac {f(x_0+\Delta x) - f(x_0)} {(x_0+\Delta x)-x_0}=\frac {f(x_0+\Delta x) - f(x_0)} {\Delta x}$$ </p>
<p>上文中说到切线其实是割线的极值，那么切线$A$的斜率就是当$\Delta x$趋向于0时的值：</p>
<p>$$ k=\lim_{\Delta x-&gt;0}\frac {f(x_0+\Delta x) - f(x_0)} {\Delta x}$$</p>
<p>接下来我们再来看导数，导数是微积分中重要的基础概念，它描述了一个函数在某一点附近的变化率，如果函数的自变量和因变量都是实数的话，那么函数在某一点的导数就是该函数所代表的曲线在这一点上的切线斜率：</p>
<p>$$ k=df=\lim_{\Delta x-&gt;0} \frac {f(x_0+\Delta x) - f(x_0)} {\Delta x} $$</p>
<h5 id="u6781_u503C"><a href="#u6781_u503C" class="headerlink" title="极值"></a>极值</h5><p>在数学中，极大值与极小值是指在一个域上函数取得最大值或最小值的点的函数值。这个域可以是整个函数域，也可以是整个函数域中的局部域。所以一个函数有局部极大极小值，也有全局极大极小值。</p>
<p>说到极值，又不得不说到微积分中的另外一个概念，驻点。<br><img src="http://paxigrdp0.bkt.clouddn.com/0cdd7f555855ce50d285e0a1b1377b7f.jpg" alt=""></p>
<p>如上图所示，在二维坐标中展示了一个一元函数的曲线，点$A$、$B$、$C$、$D$、$E$都是该曲线上的局部极大值或局部极小值，这些点就称为驻点。在每个驻点，函数在该域的输出值停止增加或减少，即变化率为零。每个驻点其实就是局部域曲线的切点。结合上文中提到的导数是描述函数在某一点附近的变化率，所以可得一元函数的局部极值点的导数为零。</p>
<p>假设有一个一元函数$f(x)=x^2$，该函数的导数通过上面的导数公式可得$f’(x)=2x$，并且该函数代表的曲线为下凹曲线，所以该函数的最小值为$f’(x)=0$，即当$x$等于0时$f(x)$的值最小。</p>
<h4 id="u4E8C_u5143_u51FD_u6570_u7684_u6700_u5C0F_u503C"><a href="#u4E8C_u5143_u51FD_u6570_u7684_u6700_u5C0F_u503C" class="headerlink" title="二元函数的最小值"></a>二元函数的最小值</h4><p>上文中$F(a,b)$是一个二元函数，实质上道理一样，我们可以把二元函数图像设想成一个像碗一样的曲面，那么最小值就是碗底，即曲面的最凹陷部，那么从360度任意方向上看，偏导数都是0。</p>
<h5 id="u504F_u5BFC_u6570"><a href="#u504F_u5BFC_u6570" class="headerlink" title="偏导数"></a>偏导数</h5><p>在数学中，一个多元函数的偏导数是它关于其中一个变量的导数，而保持其他变量恒定。全导数自然就是所有变量的导数。函数$f$关于变量$x$的偏导数写为$f’_x$或$\frac {\partial f}{\partial x}$，偏导数符号$\partial$是全导数符号$d$的变体。</p>
<p>因为曲面上的每一个点都有无穷多条切线，所以描述这种函数的导数非常困难，所以通常选择其中一条切线，并求出它的斜率，将其他变量视为常量，这就是偏导数。</p>
<p>所以$ F(a,b) = \sum_{i=1}^n(y_i-(ax_i + b))^2 $的最小值就是分别求$a$和$b$的偏导数，然后可以得到一个关于$a$和$b$的二元方程组，就可以求出$a$和$b$了，这个方法被称为最小二乘法。</p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- DevTalking Banner1 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-4115205380866695" data-ad-slot="5844761160"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<h4 id="24F_28a_2Cb_29_24_u7684_u6700_u5C0F_u503C"><a href="#24F_28a_2Cb_29_24_u7684_u6700_u5C0F_u503C" class="headerlink" title="$F(a,b)$的最小值"></a>$F(a,b)$的最小值</h4><p>首先我们把$F(a,b)$展开：</p>
<p>$$ F(a,b) = \sum_{i=1}^n(y_i-(ax_i + b))^2 \\<br>=(y_1-(ax_1 + b))^2+(y_2-(ax_2 + b))^2+…+(y_n-(ax_n + b))^2 \\<br>=(y_1^2-2y_1(ax_1+b)+(ax_1+b)^2)+(y_2^2-2y_2(ax_2+b)+(ax_2+b)^2) \\<br>+…+(y_n^2-2y_n(ax_n+b)+(ax_n+b)^2) \\<br>=y_1^2-2ay_1x_1-2by_1+a^2x_1^2+2abx_1+b^2+y_2^2-2ay_2x_2-2by_2+a^2x_2^2+2abx_2+b^2 \\<br>+…+y_n^2-2ay_nx_n-2by_n+a^2x_n^2+2abx_n+b^2 \\<br>=(y_1^2+..+y_n^2)-2a(x_1y_1+..+x_ny_n)-2b(y_1+..+y_n) \\<br>+a^2(x_1^2+..+x_n^2)+2ab(x_1+..+x_n)+nb^2 $$</p>
<p>然后利用平均数，把上面式子中每个括号里的内容进一步简化，比如：</p>
<p>$$\frac {(y_1^2+..+y_n^2)} n=\overline {y^2}$$</p>
<p>则：</p>
<p>$$(y_1^2+..+y_n^2)=n\overline{y^2}$$</p>
<p>所以$F(a,b)$可以继续简化为：</p>
<p>$$F(a,b)=n\overline{y^2}-2an\overline{xy}-2bn\overline y+a^2n\overline{x^2}+2abn\overline x+nb^2$$</p>
<p>然后我们分别对$a$和$b$求偏导数，并且令偏导等于0：</p>
<p>$$\frac {\partial F}{\partial a}=-2n\overline xy+2an\overline {x^2}+2bn\overline x=0$$</p>
<p>$$\frac {\partial F}{\partial b}=-2n\overline y+2an\overline x+2nb=0$$</p>
<p>消掉$2n$最后得到关于$a$，$b$的二元方程组为：</p>
<p>$$-\overline {xy}+a\overline {x^2}+b\overline x=0$$</p>
<p>$$-\overline y+a\overline x+b=0$$</p>
<p>最后得出a和b的求解公式：</p>
<p>$$a=\frac {\overline x \overline y-\overline {xy}} {(\overline x)^2-\overline {x^2}}$$</p>
<p>$$b=\overline y-a\overline x$$</p>
<p>将上文中的那组数据带入后可算的$a$和$b$的值：<br><img src="http://paxigrdp0.bkt.clouddn.com/4431a672dc9198ae16fc7a9b223f9f22.jpg" alt=""></p>
<p>从带入结果来看，这条回归线的函数为$f(x)=14.93x-360.88$，现在我们就可以通过回归线来做一些预测，比如上图中计算了面积为35.5平方米和55.26平方米房子的售价，分别为169.29万和464.4万。</p>
<h4 id="u8BC4_u4EF7_u56DE_u5F52_u7EBF_u7684_u62DF_u5408_u7A0B_u5EA6"><a href="#u8BC4_u4EF7_u56DE_u5F52_u7EBF_u7684_u62DF_u5408_u7A0B_u5EA6" class="headerlink" title="评价回归线的拟合程度"></a>评价回归线的拟合程度</h4><p>因为我们画出的拟合直线只是一个近似值，所以需要有一个标准来评判回归线拟合程度的好坏，即算法收敛情况。我们来看几个概念：</p>
<h5 id="u603B_u504F_u5DEE_u5E73_u65B9_u548C"><a href="#u603B_u504F_u5DEE_u5E73_u65B9_u548C" class="headerlink" title="总偏差平方和"></a>总偏差平方和</h5><p>总偏差平方和又称总平方和（SST，Sum of Squares for Total），是每个因变量的实际值与因变量的平均值的差的平方和，即反映了因变量取值的总体波动情况：</p>
<p>$$SST=\sum_{i=1}^n(y_i-\overline y)^2$$</p>
<h5 id="u56DE_u5F52_u5E73_u65B9_u548C"><a href="#u56DE_u5F52_u5E73_u65B9_u548C" class="headerlink" title="回归平方和"></a>回归平方和</h5><p>回归平方和（SSR，Sum of Squares for Regression）是因变量的回归值（回归线上的$y$值）与其平均值的差的平方和。它是由于自变量$x$的变化引起的$y$的变化，反映了$y$的总偏差中由于$x$与$y$之间的线性关系引起的$y$的变化部分：</p>
<p>$$SSR=\sum_{i=1}^n(\hat y_i-\overline y)^2$$                                                                                                         </p>
<h5 id="u8BEF_u5DEE_u5E73_u65B9_u548C"><a href="#u8BEF_u5DEE_u5E73_u65B9_u548C" class="headerlink" title="误差平方和"></a>误差平方和</h5><p>误差平方和（SSE，Sum of Squares for Error）是因变量的各实际值与回归值的差的平方和，反映了除$x$对$y$的线性影响之外的其他因素对$y$变化的作用：</p>
<p>$$SSE=SST-SSR$$</p>
<p>因为总偏差是包含了所有可能对$y$值有影响的因素，比如房子的售价不可能只有面积来决定，还包括地域、户型、楼层、楼龄等等因素。回归平方和只包含$x$对$y$变化的影响，即只是面积对售价的影响。</p>
<p>所以拟合优度$R^2=SSR/SST$或者$R^2=1-SSE/SST$，$R^2$的取值范围在0到1之间，越接近1说明拟合程度越好，说明$x$对$y$值的影响权重越大。</p>
<p>比如如果所有的点都在回归线上，那说明$SSE$等于0，则$R^2=1$，说明$y$的变化100%由$x$的变化引起，没有其他因素会影响$y$，则回归线能够完全解释$y$的变化，如果$R^2$的值很低，则说明$x$和$y$之间可能根本就不存在线性关系。<br><img src="http://paxigrdp0.bkt.clouddn.com/cc38ffff2a4ff78ca4772dcddbe4262b.jpg" alt=""></p>
<p>将数据带入计算得出最拟合优度为0.92，拟合程度还不错，说明在特定的望京区域内房屋面积是主要影响价格的因素。</p>
<h2 id="u603B_u7ED3"><a href="#u603B_u7ED3" class="headerlink" title="总结"></a>总结</h2><p>我认为从线性回归开始学习机器学习是最好的切入点，而且线性回归也是监督学习最根本的支撑，比如梯度下降等算法都需要基于线性回归的知识来理解。另外在我看来人工智能（AI）并不是要造一个机器人脑，这是伪科学。人工智能只是利用机器强大的计算能力，用数学工具，通过对大量数据的统计分析从而得出近似最优答案。所以说，人类和AlphaGO下棋，不是输在智力，而是输在身体机能。</p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- DevTalking Banner1 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-4115205380866695" data-ad-slot="5844761160"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/机器学习/" rel="tag">#机器学习</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/articles/testng-powermock/" rel="next" title="基于TestNG和PowerMock的单元测试指南">
                <i class="fa fa-chevron-left"></i> 基于TestNG和PowerMock的单元测试指南
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/articles/machine-learning-2/" rel="prev" title="机器学习笔记二之矩阵、环境搭建、NumPy">
                机器学习笔记二之矩阵、环境搭建、NumPy <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!--MOB SHARE BEGIN-->
<div class="-hoofoo-share-title">分享到：</div>
<div class="-hoofoo-share-buttons">
    <div class="-mob-share-weibo -hoofoo-share-weibo -hoofoo-share-ui-button"><i class="fa fa-weibo" aria-hidden="true"></i></div>
    <div class="-mob-share-weixin -hoofoo-share-weixin -hoofoo-share-ui-button"><i class="fa fa-weixin" aria-hidden="true"></i></div>
    <div class="-mob-share-twitter -hoofoo-share-twitter -hoofoo-share-ui-button"><i class="fa fa-twitter" aria-hidden="true"></i></div>
    <div class="-hoofoo-share-more -hoofoo-share-ui-button -mob-share-open"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></div>
</div><div class="-mob-share-ui -mob-share-ui-theme -mob-share-ui-theme-slide-left" style="display: none">
    <ul class="-mob-share-list">
        <li class="-mob-share-weixin"><p>微信</p></li>
        <li class="-mob-share-pocket"><p>Pocket</p></li>
        <li class="-mob-share-instapaper"><p>Instapaper</p></li>
        <li class="-mob-share-linkedin"><p>Linkedin</p></li>
        <li class="-mob-share-twitter"><p>Twitter</p></li>
        <li class="-mob-share-weibo"><p>新浪微博</p></li>
        <li class="-mob-share-douban"><p>豆瓣</p></li>
        <li class="-mob-share-facebook"><p>Facebook</p></li>
        <li class="-mob-share-google"><p>Google+</p></li>
    </ul>
    <div class="-mob-share-close">取消</div>
</div>
<div class="-mob-share-ui-bg"></div>
<script id="-mob-share" src="http://f1.webshare.mob.com/code/mob-share.js?appkey=26252752de4d6"></script>
<!--MOB SHARE END--> 
      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
              </div>
            
          </div>
        
      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="http://www.devtalking.com/devtalking.png" alt="DevTalking" itemprop="image"/>
          <p class="site-author-name" itemprop="name">DevTalking</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">91</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

         <!-- <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分類</span>
              
          </div> -->

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">44</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="menu-item-icon icon-next-feed"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://www.linkedin.com/in/宇轩-付-5aa406a6" target="_blank">
                  
                    <i class="fa fa-linkedin"></i> linkedin
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:jace.fu@icloud.com" target="_blank">
                  
                    <i class="fa fa-envelope"></i> Email
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#u673A_u5668_u5B66_u4E60_u7684_u5B9A_u4E49"><span class="nav-number">1.</span> <span class="nav-text">机器学习的定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#u673A_u5668_u5B66_u4E60_u56DB_u5927_u5185_u5BB9_u7B80_u8FF0"><span class="nav-number">2.</span> <span class="nav-text">机器学习四大内容简述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#u76D1_u7763_u5B66_u4E60_uFF08Supervised_Learning_uFF09"><span class="nav-number">2.1.</span> <span class="nav-text">监督学习（Supervised Learning）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u5B66_u4E60_u7406_u8BBA_uFF08Learning_Theory_uFF09"><span class="nav-number">2.2.</span> <span class="nav-text">学习理论（Learning Theory）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u65E0_u76D1_u7763_u5B66_u4E60_uFF08Unsupervised_Learning_uFF09"><span class="nav-number">2.3.</span> <span class="nav-text">无监督学习（Unsupervised Learning）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#u5F3A_u5316_u5B66_u4E60_uFF08Reinforcement_Learning_uFF09"><span class="nav-number">2.4.</span> <span class="nav-text">强化学习（Reinforcement Learning）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#u76D1_u7763_u5B66_u4E60"><span class="nav-number">3.</span> <span class="nav-text">监督学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#u7EBF_u6027_u56DE_u5F52"><span class="nav-number">3.1.</span> <span class="nav-text">线性回归</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#u5982_u4F55_u753B_u51FA_u62DF_u5408_u76F4_u7EBF"><span class="nav-number">3.1.1.</span> <span class="nav-text">如何画出拟合直线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u5982_u4F55_u6C42_u51FD_u6570_u7684_u6700_u5C0F_u503C"><span class="nav-number">3.1.2.</span> <span class="nav-text">如何求函数的最小值</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#u5BFC_u6570_u4E0E_u659C_u7387"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">导数与斜率</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#u6781_u503C"><span class="nav-number">3.1.2.2.</span> <span class="nav-text">极值</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u4E8C_u5143_u51FD_u6570_u7684_u6700_u5C0F_u503C"><span class="nav-number">3.1.3.</span> <span class="nav-text">二元函数的最小值</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#u504F_u5BFC_u6570"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">偏导数</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24F_28a_2Cb_29_24_u7684_u6700_u5C0F_u503C"><span class="nav-number">3.1.4.</span> <span class="nav-text">$F(a,b)$的最小值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#u8BC4_u4EF7_u56DE_u5F52_u7EBF_u7684_u62DF_u5408_u7A0B_u5EA6"><span class="nav-number">3.1.5.</span> <span class="nav-text">评价回归线的拟合程度</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#u603B_u504F_u5DEE_u5E73_u65B9_u548C"><span class="nav-number">3.1.5.1.</span> <span class="nav-text">总偏差平方和</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#u56DE_u5F52_u5E73_u65B9_u548C"><span class="nav-number">3.1.5.2.</span> <span class="nav-text">回归平方和</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#u8BEF_u5DEE_u5E73_u65B9_u548C"><span class="nav-number">3.1.5.3.</span> <span class="nav-text">误差平方和</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#u603B_u7ED3"><span class="nav-number">4.</span> <span class="nav-text">总结</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DevTalking</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>


 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  

    <script type="text/javascript">
      var disqus_shortname = 'jacefu';
      var disqus_identifier = '/articles/machine-learning-1/';
      var disqus_title = '机器学习笔记一之机器学习定义、导数、最小二乘';
      var disqus_url = 'http://www.devtalking.com//articles/machine-learning-1/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  


  
  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  

  <script type="text/javascript" src="/lib/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.2" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }

      motionIntegrator.bootstrap();
    });
  </script>

  
  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
</body>
</html>
